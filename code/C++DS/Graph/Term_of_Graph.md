# 图论基础概念整理 (Graph Theory Basics)

## 1. 图的定义与基本元素
图（Graph）是由顶点的有穷非空集合和顶点之间边的集合组成，通常表示为 $G = (V, E)$。

*   **数据对象**：称为 **顶点 (Vertex)**，集合用 $V$ 表示。
*   **数据关系**：
    *   **无向边 (Edge)**：若顶点 $v$ 和 $w$ 之间的连接没有方向，称为边，记为 $(v, w)$。
    *   **有向弧 (Arc)**：若顶点 $v$ 和 $w$ 之间的连接有方向，称为弧，记为 $<v, w>$。
        *   **弧尾 (Tail)**：弧的出发点（$v$）。
        *   **弧头 (Head)**：弧的到达点（$w$）。

> **补充概念：**
> *   **简单图**：不存在重复边，也不存在顶点到自身的边（自环）。（数据结构课程中通常讨论简单图）
> *   **多重图**：允许两个顶点间有多条边，或允许自环。

## 2. 图的分类

### 2.1 基于边的方向
*   **无向图 (Undirected Graph)**：由顶点集和**边**集构成的图。任意两个顶点之间的连接是双向的。
*   **有向图 (Directed Graph)**：由顶点集和**弧**集构成的图。连接是有方向的。

### 2.2 基于边的权重
*   **权 (Weight)**：赋予边或弧的具有一定含义的数值（如距离、费用、时间）。
*   **网 (Network)**：带权的图。分为 **有向网** 和 **无向网**。

### 2.3 基于边的数量（密度）
设图有 $n$ 个顶点，$e$ 条边/弧：
*   **完全图 (Complete Graph)**：
    *   **无向完全图**：任意两个顶点之间都存在一条边。边数 $e = \frac{n(n-1)}{2}$。
    *   **有向完全图**：任意两个顶点之间都存在方向相反的两条弧。弧数 $e = n(n-1)$。
*   **稀疏图 (Sparse Graph)**：边数很少的图。通常认为 $e < n \log n$。
*   **稠密图 (Dense Graph)**：边数很多的图。

### 2.4 子图概念
*   **子图 (Subgraph)**：若图 $G'=(V', E')$，且 $V' \subseteq V, E' \subseteq E$，则称 $G'$ 为 $G$ 的子图。
*   **补充：诱导子图 (Induced Subgraph)**：顶点集 $V'$ 是 $V$ 的子集，而 $E'$ 包含 $G$ 中所有两个端点都在 $V'$ 中的边。（即：删点必须要删边，但在诱导子图中，保留的点之间原有的边必须全部保留）。

## 3. 顶点与边的关系（度与邻接）

### 3.1 邻接关系
*   **邻接点**：若存在边 $(v, w)$ 或弧 $<v, w>$，则称 $v$ 和 $w$ 互为邻接点。
*   **关联**：边/弧与依附的顶点之间的关系，称边 $(v, w)$ 与顶点 $v, w$ 相关联。

### 3.2 度的概念 (Degree)
度是指与顶点相关联的边的条数，记为 $TD(v)$。

*   **无向图的度**：
    *   即该顶点的边数。
    *   **握手定理 (补充)**：所有顶点的度之和等于边数的2倍，即 $\sum TD(v) = 2e$。
*   **有向图的度**：
    *   **入度 (In-degree, ID)**：以该点为**弧头**的弧的条数（指向该点）。
    *   **出度 (Out-degree, OD)**：以该点为**弧尾**的弧的条数（从该点指出）。
    *   **度 (Total Degree)**：$TD(v) = ID(v) + OD(v)$。
    *   **有向图性质 (补充)**：所有顶点的入度之和 = 所有顶点的出度之和 = 弧数。

## 4. 路径与回路

*   **路径 (Path)**：从顶点 $v_p$ 到顶点 $v_q$ 的一个顶点序列。
*   **路径长度**：
    *   **无权图**：路径上边的条数。
    *   **带权图 (补充)**：路径上所有边的权值之和。
*   **距离 (补充)**：从顶点 $u$ 到 $v$ 的**最短**路径长度。若不通，则距离为无穷大。
*   **简单路径**：序列中**顶点不重复**出现的路径。
*   **回路/环 (Cycle)**：第一个顶点和最后一个顶点相同的路径。
*   **简单回路**：除了起点和终点相同外，其余顶点均不重复的回路。

## 5. 连通性 (Connectivity)

### 5.1 无向图的连通性
*   **连通图**：若图中**任意**两个顶点之间都存在路径，则称该图为连通图。
*   **连通分量 (Connected Component)**：
    *   非连通图中的**极大连通子图**。
    *   **“极大”的含义**：该子图是连通的，且包含其所有的边（不能再向该子图中添加原图中任何与之相连的顶点和边，否则就不连通了）。

### 5.2 有向图的连通性
*   **强连通图**：任意两个顶点 $v_i, v_j$ 之间都存在从 $v_i$ 到 $v_j$ **以及** 从 $v_j$ 到 $v_i$ 的路径。
*   **强连通分量 (SCC)**：有向图中的**极大强连通子图**。

### 5.3 极小连通子图 (与生成树相关)
*   **定义**：该子图是连通的，包含原图的所有 $n$ 个顶点，且只有 $n-1$ 条边。
*   **性质**：
    *   如果再减去一条边，子图将变成非连通。
    *   如果再增加一条边，子图将产生回路。

## 6. 生成树与生成森林

*   **生成树 (Spanning Tree)**：
    *   一个**连通图**的**极小连通子图**。
    *   包含图中所有 $n$ 个顶点，但只有 $n-1$ 条边。
    *   **补充**：一个图可以有多个不同的生成树（如DFS生成树、BFS生成树、最小生成树）。
*   **生成森林 (Spanning Forest)**：
    *   对于**非连通图**，其每一个连通分量都可以构造一棵生成树。
    *   这些生成树的集合构成了该非连通图的生成森林。

---

## 7. (补充) 图的存储结构
为了在计算机中处理图，通常使用以下两种主要方式：

1.  **邻接矩阵 (Adjacency Matrix)**：
    *   使用二维数组 `A[n][n]` 表示。
    *   `A[i][j] = 1` (或权值) 表示存在边 $<v_i, v_j>$，否则为 0 (或 $\infty$)。
    *   **特点**：判断两点是否有边很快，但对于稀疏图浪费空间。
2.  **邻接表 (Adjacency List)**：
    *   数组 + 链表。每个顶点建立一个单链表，链表中存储该顶点的所有邻接点。
    *   **特点**：节省空间（适合稀疏图），但计算入度（有向图）较麻烦（需遍历全表或建立逆邻接表）。

## 8. 易混淆概念对比

| 概念 | 关键点 | 适用范围 |
| :--- | :--- | :--- |
| **连通分量** | 极大连通子图 | 无向图 |
| **强连通分量** | 极大强连通子图 | 有向图 |
| **生成树** | 极小连通子图 (包含所有顶点，$n-1$条边) | 连通图 |
| **完全图** | 边数最大 | 无向/有向 |